{"id":"MilMap-1n0","title":"Add CLI options for multi-page PDF export","description":"The CLI currently has no options to control multi-page PDF export behavior.\n\n**Proposed new options:**\n- `--page-size \u003csize\u003e`: Page size (letter, legal, tabloid, a4, a3, custom)\n- `--orientation \u003cportrait|landscape\u003e`: Page orientation\n- `--multi-page`: Force multi-page output (auto-detect by default)\n- `--overlap \u003cmeters\u003e`: Overlap between sheets for multi-page (default 200m)\n- `--no-index`: Skip generating index page in multi-page PDFs\n- `--separate-files`: Output each sheet as separate PDF file\n\n**Integration points:**\n- CommandLineParser.cs: Add new options\n- MapGenerator.cs: Pass options to MultiPagePdfExporter\n- ConsoleProgress: Show 'Generating sheet 1 of 6' during export","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-23T13:27:37.194748-06:00","created_by":"jakeclaypool","updated_at":"2026-01-23T13:41:13.890287-06:00","closed_at":"2026-01-23T13:41:13.890287-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-1n0","depends_on_id":"MilMap-cyb","type":"blocks","created_at":"2026-01-23T13:27:59.818564-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-3bh","title":"Epic: Testing \u0026 Quality","description":"Ongoing: integration tests, performance benchmarks, sample maps for validation.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-16T16:01:33.493855-06:00","created_by":"jakeclaypool","updated_at":"2026-01-18T18:53:30.874068-06:00","closed_at":"2026-01-18T01:15:13.933862465Z"}
{"id":"MilMap-3bh.1","title":"Add performance benchmarks","description":"Measure render times at various scales and map sizes.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-16T16:03:59.319981-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T20:47:31.660781-06:00","closed_at":"2026-01-16T20:47:31.660781-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-3bh.1","depends_on_id":"MilMap-3bh","type":"parent-child","created_at":"2026-01-16T16:03:59.32074-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-3bh.2","title":"Add integration tests","description":"End-to-end map generation tests with known inputs and outputs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:03:59.322769-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T20:20:55.703008-06:00","closed_at":"2026-01-16T20:20:55.703008-06:00","close_reason":"Closed"}
{"id":"MilMap-3bh.3","title":"Add sample maps for validation","description":"Reference output maps for visual regression testing.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-16T16:03:59.322999-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T20:51:50.680156-06:00","closed_at":"2026-01-16T20:51:50.680156-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-3bh.3","depends_on_id":"MilMap-3bh","type":"parent-child","created_at":"2026-01-16T16:03:59.324382-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-3yv","title":"Implement PDF map generation in CLI","description":"The CLI currently parses arguments and displays what would be generated, but the actual PDF generation is not implemented. The TODO at CommandLineParser.cs line 218 needs to be completed to actually generate the map file when the user runs a command like 'milmap output.pdf --installation \"Camp Ripley\"'.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-18T18:53:30.901866-06:00","created_by":"jakeclaypool","updated_at":"2026-01-18T18:57:47.418416-06:00","closed_at":"2026-01-18T18:57:47.418416-06:00","close_reason":"Implemented MapGenerator class and wired up CLI to generate actual PDF/PNG maps"}
{"id":"MilMap-5hi","title":"QuestPDF conflicting size constraints error during PDF export","description":"When generating PDF maps, QuestPDF throws: 'The provided document content contains conflicting size constraints. For example, some elements may require more space than is available.'\n\n**Likely causes:**\n1. **FitArea() with oversized images**: PdfExporter.ComposeContent() uses `.Image(mapBytes).FitArea()` which may fail when the source image aspect ratio conflicts with the page's printable area\n2. **Footer/header taking too much space**: The footer includes scale bar, scale text, and date which may overflow when margins are tight\n3. **Negative printable height**: GetPrintableAreaPixels() subtracts header (40px) and footer (40px) heights, which could result in insufficient space\n\n**Affected code (PdfExporter.cs):**\n```csharp\nprivate void ComposeContent(IContainer container, byte[] mapImageBytes)\n{\n    container.Image(mapImageBytes)\n        .FitArea();  // This can fail with constraint conflicts\n}\n```\n\n**Potential fixes:**\n1. Use `.FitWidth()` or `.FitHeight()` instead of `.FitArea()` for more predictable scaling\n2. Add explicit MaxWidth/MaxHeight constraints before the image\n3. Ensure header/footer heights are properly reserved in page layout\n4. Add try-catch with helpful error message about image dimensions vs page size\n5. Validate image dimensions against printable area before attempting PDF generation\n\n**Debugging steps:**\n1. Enable QuestPDF.Settings.EnableDebugging = true for detailed layout info\n2. Log the map image dimensions and printable area dimensions before export\n3. Check if the issue correlates with specific page sizes or orientations","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2026-01-23T13:55:26.576458-06:00","created_by":"jakeclaypool","updated_at":"2026-01-23T13:56:29.547162-06:00"}
{"id":"MilMap-68l","title":"Epic: Output Generation","description":"Map export formats: PDF, PNG/JPEG, GeoTIFF, multi-page PDF.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-16T16:01:33.476936-06:00","created_by":"jakeclaypool","updated_at":"2026-01-18T18:53:30.876042-06:00","closed_at":"2026-01-18T01:15:13.904693819Z"}
{"id":"MilMap-68l.1","title":"Add GeoTIFF export","description":"Export georeferenced TIFF for use in GIS applications.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:03:24.580355-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T18:19:18.249006-06:00","closed_at":"2026-01-16T18:19:18.249006-06:00","close_reason":"Closed"}
{"id":"MilMap-68l.2","title":"Implement PDF export","description":"Generate print-ready PDF maps with proper DPI for printing.\n\n**Acceptance Criteria:**\n- [ ] PDF output at configurable DPI (300 DPI default)\n- [ ] Correct page size (Letter, A4, or custom dimensions)\n- [ ] Map scales correctly when printed at 100%\n- [ ] Embedded fonts for labels\n- [ ] PDF/A compliance for archival (optional)\n- [ ] Includes margin content (title, legend, scale bar)\n- [ ] File size optimized without quality loss","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:03:24.581093-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:25:23.616549-06:00","closed_at":"2026-01-16T17:25:23.616549-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-68l.2","depends_on_id":"MilMap-68l","type":"parent-child","created_at":"2026-01-16T16:03:24.581792-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-68l.3","title":"Implement multi-page PDF","description":"Large areas split across multiple pages for field use.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-16T16:03:24.586199-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T20:40:19.110703-06:00","closed_at":"2026-01-16T20:40:19.110703-06:00","close_reason":"Closed"}
{"id":"MilMap-68l.4","title":"Implement PNG/JPEG export","description":"Export high-resolution raster images (PNG/JPEG).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:03:24.586296-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:27:18.59101-06:00","closed_at":"2026-01-16T17:27:18.59101-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-68l.4","depends_on_id":"MilMap-68l","type":"parent-child","created_at":"2026-01-16T16:03:24.587414-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-6p0","title":"Epic: CLI Interface","description":"User interface: argument parsing, progress reporting, config file support, interactive mode.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-16T16:01:33.496652-06:00","created_by":"jakeclaypool","updated_at":"2026-01-18T18:53:30.876648-06:00","closed_at":"2026-01-18T01:15:13.938508341Z"}
{"id":"MilMap-6p0.1","title":"Create CLI argument parser","description":"Parse command-line arguments for map generation options.\n\n**Acceptance Criteria:**\n- [ ] Uses System.CommandLine or similar for robust parsing\n- [ ] Required: output file path\n- [ ] Region input (one of): --mgrs, --bounds (lat/lon), --installation\n- [ ] Optional: --scale (default 1:25000), --dpi (default 300)\n- [ ] Optional: --format (pdf|png|geotiff)\n- [ ] Optional: --cache-dir for tile cache location\n- [ ] Help text with examples for each input method\n- [ ] Validates mutually exclusive options","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:03:42.316122-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:33:42.111253-06:00","closed_at":"2026-01-16T17:33:42.111253-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-6p0.1","depends_on_id":"MilMap-6p0","type":"parent-child","created_at":"2026-01-16T16:03:42.316818-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-6p0.2","title":"Add interactive mode","description":"Guided map generation wizard for user-friendly experience.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-16T16:03:42.319905-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T20:43:33.979422-06:00","closed_at":"2026-01-16T20:43:33.979422-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-6p0.2","depends_on_id":"MilMap-6p0","type":"parent-child","created_at":"2026-01-16T16:03:42.320546-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-6p0.3","title":"Add configuration file support","description":"Support YAML/JSON config files for default settings.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:03:42.321533-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T18:22:58.704204-06:00","closed_at":"2026-01-16T18:22:58.704204-06:00","close_reason":"Closed"}
{"id":"MilMap-6p0.4","title":"Add progress reporting","description":"Show download and render progress to the user.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:03:42.321644-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T19:32:42.28541-06:00","closed_at":"2026-01-16T19:32:42.28541-06:00","close_reason":"Closed"}
{"id":"MilMap-6pq","title":"Add pre-flight validation for bitmap memory requirements","description":"Before attempting to render a map, the system should calculate the required bitmap size and validate it won't exceed system memory limits.\n\n**Current behavior:** Rendering proceeds and fails with 'Unable to allocate pixels' at 75% progress.\n\n**Proposed solution:**\n1. Add a method like BaseMapRenderer.CalculateMemoryRequirements(bounds, zoom) \n2. Check estimated memory against configurable limit (default ~2GB)\n3. If exceeded, provide actionable error: 'Map requires X.X GB of memory. Use --multi-page, reduce scale, or reduce DPI.'\n4. Show estimated values during CLI generation: 'Map size: 32805x49962 pixels (6.1 GB)'\n\n**Benefits:**\n- Fail fast with helpful message instead of cryptic SkiaSharp error\n- User can make informed decisions before waiting for tile downloads","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-23T13:27:23.883745-06:00","created_by":"jakeclaypool","updated_at":"2026-01-23T13:34:39.960276-06:00","closed_at":"2026-01-23T13:34:39.960276-06:00","close_reason":"Closed"}
{"id":"MilMap-75z","title":"Add Camp Ripley as a location","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-17T22:57:56.066975447Z","created_by":"jakeclaypool","updated_at":"2026-01-18T01:12:43.622534649Z","closed_at":"2026-01-18T01:12:43.622534649Z","close_reason":"Closed"}
{"id":"MilMap-76i","title":"PDF export squashes map to single page instead of multi-page layout","description":"When exporting to PDF, large maps are scaled down to fit on a single page, resulting in tiny unreadable maps. For example, Camp Ripley at 1:5000 would require ~109\" x 166\" of print area but gets compressed to fit on a letter-size page.\n\n**Current behavior:** PdfExporter uses FitArea() which scales the entire map to fit the printable area of one page.\n\n**Expected behavior:** Large maps should automatically use MultiPagePdfExporter to create multiple sheets with proper overlap and index page.\n\n**Impact:** Maps at detailed scales (1:5000, 1:10000) are unusable because they're too small to read.\n\n**Solution:** \n1. Calculate if the rendered map would exceed a readable size at the target scale\n2. Automatically switch to MultiPagePdfExporter when map exceeds page dimensions\n3. Add --single-page vs --multi-page CLI flags to control behavior\n4. Use MultiPagePdfExporter.CalculateLayout() to determine sheet requirements","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-23T13:26:55.909419-06:00","created_by":"jakeclaypool","updated_at":"2026-01-23T13:38:43.938789-06:00","closed_at":"2026-01-23T13:38:43.938789-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-76i","depends_on_id":"MilMap-cyb","type":"blocks","created_at":"2026-01-23T13:27:46.127948-06:00","created_by":"jakeclaypool"},{"issue_id":"MilMap-76i","depends_on_id":"MilMap-m4h","type":"blocks","created_at":"2026-01-23T13:27:51.197175-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-a33","title":"Epic: MGRS Coordinate System","description":"Core dependency for all map features. Implement MGRS parsing, encoding, and boundary calculations.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-16T16:01:33.557033-06:00","created_by":"jakeclaypool","updated_at":"2026-01-18T18:53:30.877184-06:00","closed_at":"2026-01-18T01:15:13.951149803Z"}
{"id":"MilMap-a33.1","title":"Implement MGRS encoder","description":"Convert latitude/longitude coordinates to MGRS grid references.\n\n**Acceptance Criteria:**\n- [ ] Accepts WGS84 lat/lon coordinates\n- [ ] Returns valid MGRS string at configurable precision (1m to 10km)\n- [ ] Handles edge cases at zone boundaries\n- [ ] Handles polar regions (UPS) if lat \u003e 84째N or \u003c 80째S\n- [ ] Round-trip conversion matches original within precision\n- [ ] Unit tests with known lat-lon/MGRS pairs","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:02:09.314914-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T16:16:39.151688-06:00","closed_at":"2026-01-16T16:16:39.151688-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-a33.1","depends_on_id":"MilMap-a33","type":"parent-child","created_at":"2026-01-16T16:02:09.315709-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-a33.2","title":"Add MGRS boundary calculation","description":"Calculate bounding box from MGRS grid zone/square for map extent.\n\n**Acceptance Criteria:**\n- [ ] Given partial MGRS (e.g., '18T' or '18TXM'), return full bounds\n- [ ] Returns min/max lat/lon as bounding box\n- [ ] Handles 100km grid square bounds correctly\n- [ ] Handles 6째x8째 zone bounds for zone-only input\n- [ ] Accounts for grid zone junction irregularities (Norway/Svalbard)\n- [ ] Unit tests for various MGRS precision levels","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:02:09.316862-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T16:45:00.598148-06:00","closed_at":"2026-01-16T16:45:00.598148-06:00","close_reason":"Closed"}
{"id":"MilMap-a33.3","title":"Add unit tests for MGRS library","description":"Comprehensive tests for coordinate conversions with known test vectors.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:02:09.386385-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:48:08.578199-06:00","closed_at":"2026-01-16T17:48:08.578199-06:00","close_reason":"Closed"}
{"id":"MilMap-a33.4","title":"Implement MGRS parser","description":"Parse MGRS grid references (e.g., '18TXM8546') to latitude/longitude coordinates.\n\n**Acceptance Criteria:**\n- [ ] Parses valid MGRS strings of varying precision (4, 6, 8, 10 digit)\n- [ ] Returns WGS84 lat/lon coordinates\n- [ ] Handles all UTM zones (1-60) and latitude bands (C-X, excluding I/O)\n- [ ] Validates input and throws meaningful errors for invalid MGRS\n- [ ] Accuracy within 1 meter for 10-digit MGRS\n- [ ] Unit tests with known MGRS/lat-lon pairs from NGA test data","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:02:09.386476-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T16:51:17.708221-06:00","closed_at":"2026-01-16T16:51:17.708221-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-a33.4","depends_on_id":"MilMap-a33","type":"parent-child","created_at":"2026-01-16T16:02:09.387624-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-a33.5","title":"Handle cross-zone MGRS boundaries","description":"Properly handle maps that span multiple MGRS grid zones with correct grid line transitions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:06:19.331847-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T20:16:08.190005-06:00","closed_at":"2026-01-16T20:16:08.190005-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-a33.5","depends_on_id":"MilMap-a33","type":"parent-child","created_at":"2026-01-16T16:06:19.332576-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-cyb","title":"MapGenerator doesn't use MultiPagePdfExporter","description":"MapGenerator.ExportPdf() only uses the single-page PdfExporter class, ignoring the existing MultiPagePdfExporter entirely.\n\n**Current code (MapGenerator.cs:249-259):**\n```csharp\nprivate void ExportPdf(SKBitmap mapBitmap, MapGeneratorOptions options)\n{\n    var pdfOptions = new PdfExportOptions { ... };\n    var exporter = new PdfExporter(pdfOptions);\n    exporter.Export(mapBitmap, null, options.OutputPath);\n}\n```\n\n**Problem:** MultiPagePdfExporter exists with full functionality (index page, sheet overlaps, adjacent references) but is never called from the main pipeline.\n\n**Solution:** \n1. Add logic to detect when multi-page export is needed (based on calculated print dimensions)\n2. Wire up MultiPagePdfExporter in MapGenerator\n3. Generate per-sheet images and populate the MapSheet objects\n4. Support both single-page and multi-page modes through the CLI","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-23T13:27:09.555912-06:00","created_by":"jakeclaypool","updated_at":"2026-01-23T13:36:34.060942-06:00","closed_at":"2026-01-23T13:36:34.060942-06:00","close_reason":"Closed"}
{"id":"MilMap-lfj","title":"Epic: Project Foundation","description":"Initialize .NET solution structure, CI/CD, and documentation. Must be done first.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-16T16:01:33.486511-06:00","created_by":"jakeclaypool","updated_at":"2026-01-18T18:53:30.877696-06:00","closed_at":"2026-01-18T01:15:13.919197799Z"}
{"id":"MilMap-lfj.1","title":"Add project documentation","description":"Create README, CONTRIBUTING guide, and architecture documentation.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-16T16:01:51.148545-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T20:34:37.617307-06:00","closed_at":"2026-01-16T20:34:37.617307-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-lfj.1","depends_on_id":"MilMap-lfj","type":"parent-child","created_at":"2026-01-16T16:01:51.149261-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-lfj.2","title":"Set up CI/CD pipeline","description":"Configure GitHub Actions for build, test, and lint automation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:01:51.150697-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:49:40.022629-06:00","closed_at":"2026-01-16T17:49:40.022629-06:00","close_reason":"Closed"}
{"id":"MilMap-lfj.3","title":"Initialize .NET solution structure","description":"Create dotnet solution with appropriate project structure: CLI app, core library, and tests projects.\n\n**Acceptance Criteria:**\n- [ ] Solution file (.sln) created with meaningful name\n- [ ] MilMap.CLI console app project (.NET 8+)\n- [ ] MilMap.Core class library for business logic\n- [ ] MilMap.Tests xUnit test project\n- [ ] .gitignore configured for .NET projects\n- [ ] Projects reference each other correctly\n- [ ] Solution builds with 'dotnet build'","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:01:51.215657-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T16:12:53.119048-06:00","closed_at":"2026-01-16T16:12:53.119048-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-lfj.3","depends_on_id":"MilMap-lfj","type":"parent-child","created_at":"2026-01-16T16:01:51.216422-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-m4h","title":"Bitmap allocation failure for large-scale maps (1:5000)","description":"When generating a map at 1:5000 scale for large areas like Camp Ripley (~13.8km x 21km), the renderer attempts to allocate a bitmap of approximately 32805x49962 pixels (~1.64 billion pixels, ~6.1 GB), which exceeds SkiaSharp's allocation limits.\n\n**Error:** 'Unable to allocate pixels for the bitmap' at 75% (Rendering map step)\n\n**Root cause:** BaseMapRenderer.RenderMap() creates a single SKBitmap for the entire map area without checking memory limits.\n\n**Solution options:**\n1. Add memory limit checks and fail gracefully with a helpful error message suggesting smaller scale or multi-page output\n2. Implement tile-based rendering that processes the map in chunks\n3. Integrate with MultiPagePdfExporter automatically for large areas\n4. Add a --max-pixels CLI flag to prevent excessive allocations","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-23T13:26:25.625648-06:00","created_by":"jakeclaypool","updated_at":"2026-01-23T13:34:25.537124-06:00","closed_at":"2026-01-23T13:34:25.537124-06:00","close_reason":"Closed"}
{"id":"MilMap-mc8","title":"Epic: OpenStreetMap Data Integration","description":"Data source for maps. Implement OSM tile fetching, caching, and Overpass API integration.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-16T16:01:33.550443-06:00","created_by":"jakeclaypool","updated_at":"2026-01-18T18:53:30.878176-06:00","closed_at":"2026-01-18T01:15:13.942882567Z"}
{"id":"MilMap-mc8.1","title":"Add tile caching","description":"Local cache for downloaded tiles to reduce API requests and enable offline use.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:02:27.672914-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:53:18.353784-06:00","closed_at":"2026-01-16T17:53:18.353784-06:00","close_reason":"Closed"}
{"id":"MilMap-mc8.2","title":"Implement OSM tile fetcher","description":"Download OSM tiles for a given bounding box at specified zoom levels.\n\n**Acceptance Criteria:**\n- [ ] Accepts bounding box (min/max lat/lon) and zoom level\n- [ ] Calculates required tile coordinates (X, Y, Z)\n- [ ] Downloads tiles from configurable tile server (default: OSM)\n- [ ] Supports concurrent downloads with configurable parallelism\n- [ ] Respects User-Agent requirements per OSM tile usage policy\n- [ ] Returns list of downloaded tile images with their coordinates\n- [ ] Handles HTTP errors gracefully with retries","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:02:27.673036-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T16:53:40.679309-06:00","closed_at":"2026-01-16T16:53:40.679309-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-mc8.2","depends_on_id":"MilMap-mc8","type":"parent-child","created_at":"2026-01-16T16:02:27.67419-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-mc8.3","title":"Implement OSM Overpass API client","description":"Query OSM Overpass API for vector features (roads, buildings, contours).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:02:27.740311-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:57:08.014583-06:00","closed_at":"2026-01-16T17:57:08.014583-06:00","close_reason":"Closed"}
{"id":"MilMap-mc8.4","title":"Add rate limiting and retry logic","description":"Respect OSM API usage policies with proper rate limiting and exponential backoff.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:02:27.740429-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:58:08.526548-06:00","closed_at":"2026-01-16T17:58:08.526548-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-mc8.4","depends_on_id":"MilMap-mc8","type":"parent-child","created_at":"2026-01-16T16:02:27.741567-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-mc8.5","title":"Add elevation data source","description":"Integrate elevation data (SRTM, ASTER, or similar DEM) to support contour line generation.\n\n**Acceptance Criteria:**\n- [ ] Downloads SRTM 1-arc-second (30m) or 3-arc-second (90m) tiles\n- [ ] Caches elevation tiles locally\n- [ ] Provides elevation query by lat/lon coordinate\n- [ ] Returns elevation grid for bounding box\n- [ ] Handles void data (missing elevation values)\n- [ ] Supports at minimum CONUS coverage; global preferred","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:06:19.329612-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:40:51.125063-06:00","closed_at":"2026-01-16T17:40:51.125063-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-mc8.5","depends_on_id":"MilMap-mc8","type":"parent-child","created_at":"2026-01-16T16:06:19.330836-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-q6y","title":"Epic: Input Handlers","description":"Multiple input methods: MGRS grid boundary, lat/lon region, military installation lookup.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-16T16:01:33.493771-06:00","created_by":"jakeclaypool","updated_at":"2026-01-18T18:53:30.878654-06:00","closed_at":"2026-01-18T01:15:13.927871926Z"}
{"id":"MilMap-q6y.1","title":"Implement MGRS grid boundary input","description":"Accept MGRS coordinates as input to define map boundaries.\n\n**Acceptance Criteria:**\n- [ ] Accepts single MGRS (generates map centered on point)\n- [ ] Accepts two MGRS coordinates (SW and NE corners)\n- [ ] Accepts MGRS with grid square only (e.g., '18TXM' = 100km square)\n- [ ] Validates MGRS format before processing\n- [ ] Converts to bounding box for downstream processing\n- [ ] CLI examples: --mgrs 18TXM8546 --radius 5km or --mgrs-sw 18TXM0000 --mgrs-ne 18TXM9999","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:03:06.765973-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:03:44.690068-06:00","closed_at":"2026-01-16T17:03:44.690068-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-q6y.1","depends_on_id":"MilMap-q6y","type":"parent-child","created_at":"2026-01-16T16:03:06.766762-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-q6y.2","title":"Implement lat/lon region input","description":"Accept decimal degrees bounding box as input.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:03:06.772519-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:22:11.842965-06:00","closed_at":"2026-01-16T17:22:11.842965-06:00","close_reason":"Closed"}
{"id":"MilMap-q6y.3","title":"Add installation database","description":"Create database/JSON of military installation boundaries for lookup.\n\n**Acceptance Criteria:**\n- [ ] JSON file with installation data (name, aliases, bounding box)\n- [ ] Covers major US military installations (Army, Navy, AF, Marines)\n- [ ] At minimum 50 major installations\n- [ ] Includes installation type (base, camp, station, etc.)\n- [ ] Data sourced from public/open sources\n- [ ] Schema documented for future additions\n- [ ] Easily extensible format","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:03:06.77267-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T18:12:10.087713-06:00","closed_at":"2026-01-16T18:12:10.087713-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-q6y.3","depends_on_id":"MilMap-q6y","type":"parent-child","created_at":"2026-01-16T16:03:06.773917-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-q6y.4","title":"Implement military installation lookup","description":"Lookup known military installations by name to get boundaries.\n\n**Acceptance Criteria:**\n- [ ] Fuzzy search by installation name (e.g., 'fort bragg', 'Bragg')\n- [ ] Returns bounding box for installation\n- [ ] Lists multiple matches if ambiguous\n- [ ] Supports common aliases (e.g., 'Ft.' = 'Fort')\n- [ ] Data source: installation database (MilMap-q6y.3)\n- [ ] CLI: --installation 'Fort Liberty' or --installation 'JBLM'","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:03:06.821519-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T18:15:34.066364-06:00","closed_at":"2026-01-16T18:15:34.066364-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-q6y.4","depends_on_id":"MilMap-q6y","type":"parent-child","created_at":"2026-01-16T16:03:06.822129-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-ztu","title":"Epic: Map Rendering Engine","description":"Core map generation. Combine tiles, render MGRS grid overlay, scale bars, military symbology, contours, and legends.","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-16T16:01:33.556964-06:00","created_by":"jakeclaypool","updated_at":"2026-01-18T18:53:30.879326-06:00","closed_at":"2026-01-18T01:15:13.947234882Z"}
{"id":"MilMap-ztu.1","title":"Add legend generation","description":"Generate map legend with symbols and scale information.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-16T16:02:48.144152-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T20:37:26.868732-06:00","closed_at":"2026-01-16T20:37:26.868732-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-ztu.1","depends_on_id":"MilMap-ztu","type":"parent-child","created_at":"2026-01-16T16:02:48.144907-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-ztu.2","title":"Create base map renderer","description":"Combine OSM tiles into a single composite image for the map area.\n\n**Acceptance Criteria:**\n- [ ] Stitches tiles seamlessly without visible seams\n- [ ] Handles partial tiles at map edges (crops correctly)\n- [ ] Supports output at configurable DPI (300 DPI default for print)\n- [ ] Memory efficient for large maps (streaming/chunked processing)\n- [ ] Output image dimensions match requested scale at target DPI\n- [ ] Preserves image quality without compression artifacts","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:02:48.153943-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T16:56:59.596559-06:00","closed_at":"2026-01-16T16:56:59.596559-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-ztu.2","depends_on_id":"MilMap-ztu","type":"parent-child","created_at":"2026-01-16T16:02:48.15475-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-ztu.3","title":"Implement MGRS grid overlay","description":"Draw MGRS grid lines on the map with proper labeling.\n\n**Acceptance Criteria:**\n- [ ] Grid lines at 1km intervals for 1:25000 scale\n- [ ] Grid lines at 100m or 1km intervals for 1:10000 scale\n- [ ] Grid line color/style matches military map conventions (black)\n- [ ] Grid labels on map margins (easting/northing values)\n- [ ] Principal digits emphasized in labels (e.g., 85 for 385000m E)\n- [ ] Grid lines properly projected (not just lat/lon lines)\n- [ ] Handles grid convergence angle","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:02:48.163438-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T16:59:21.459261-06:00","closed_at":"2026-01-16T16:59:21.459261-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-ztu.3","depends_on_id":"MilMap-ztu","type":"parent-child","created_at":"2026-01-16T16:02:48.164149-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-ztu.4","title":"Implement military symbology layer","description":"Add military-style map styling and symbology conventions.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:02:48.166554-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T20:09:48.160588-06:00","closed_at":"2026-01-16T20:09:48.160588-06:00","close_reason":"Closed"}
{"id":"MilMap-ztu.5","title":"Add contour line rendering","description":"Render elevation contours on the map from DEM data.\n\n**Acceptance Criteria:**\n- [ ] Contour interval appropriate for scale (20m for 1:25000, 10m for 1:10000)\n- [ ] Index contours (every 5th) rendered thicker/bolder\n- [ ] Contour labels showing elevation values\n- [ ] Smooth contour lines (not jagged)\n- [ ] Brown/sienna color per topographic convention\n- [ ] Depression contours marked with tick marks\n- [ ] Uses elevation data from MilMap-mc8.5","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:02:48.166632-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T18:04:00.213169-06:00","closed_at":"2026-01-16T18:04:00.213169-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-ztu.5","depends_on_id":"MilMap-ztu","type":"parent-child","created_at":"2026-01-16T16:02:48.167743-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-ztu.6","title":"Add scale bar rendering","description":"Render scale bar for 1:25000 and 1:10000 map scales.\n\n**Acceptance Criteria:**\n- [ ] Accurate scale bar that measures correctly when printed\n- [ ] Shows both metric (km/m) and imperial (miles) units\n- [ ] Alternating black/white segments per military convention\n- [ ] Scale ratio text (e.g., 'SCALE 1:25,000')\n- [ ] Positioned in map margin area\n- [ ] Scales correctly based on output DPI","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:02:48.176635-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:01:32.437304-06:00","closed_at":"2026-01-16T17:01:32.437304-06:00","close_reason":"Closed","dependencies":[{"issue_id":"MilMap-ztu.6","depends_on_id":"MilMap-ztu","type":"parent-child","created_at":"2026-01-16T16:02:48.177304-06:00","created_by":"jakeclaypool"}]}
{"id":"MilMap-ztu.7","title":"Calculate zoom level for target scale","description":"Given target scale (1:25000 or 1:10000) and output DPI, calculate required OSM zoom level and tile density to achieve accurate scale when printed.\n\n**Acceptance Criteria:**\n- [ ] Formula: meters_per_pixel = (scale * 0.0254) / DPI\n- [ ] Maps to appropriate OSM zoom level (typically Z15-Z17 for these scales)\n- [ ] Handles latitude-dependent scale variation (tiles are smaller near poles)\n- [ ] Returns calculated ground resolution per pixel\n- [ ] Warns if requested scale requires higher zoom than available (Z18 max)\n- [ ] Unit tests verify correct zoom for common scale/DPI combinations","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-16T16:06:19.339383-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T17:36:45.741665-06:00","closed_at":"2026-01-16T17:36:45.741665-06:00","close_reason":"Closed"}
{"id":"MilMap-ztu.8","title":"Add magnetic declination overlay","description":"Calculate and display magnetic declination for the map area to support compass navigation.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:06:19.340269-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T20:27:56.807711-06:00","closed_at":"2026-01-16T20:27:56.807711-06:00","close_reason":"Closed"}
{"id":"MilMap-ztu.9","title":"Add map margin and metadata","description":"Render map margins with: title, scale, MGRS grid zone designator, datum info (WGS84), declination diagram, and date generated.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-16T16:06:19.340337-06:00","created_by":"jakeclaypool","updated_at":"2026-01-16T20:31:07.879804-06:00","closed_at":"2026-01-16T20:31:07.879804-06:00","close_reason":"Closed"}
